"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[713],{3713:function(n,e,t){t.r(e),t.d(e,{default:function(){return J}});var i,r,a,o,d=t(3433),l=t(1413),s=t(9439),x=t(5193),u=t(7227),p=t(6931),c=t(3466),m=t(2419),f=t(168),g=t(9877),h=t(3400),y=t(8789),b=(0,y.default)(g.Z)(i||(i=(0,f.Z)(["\n  &.MuiFab-root {\n    background-color: #fc842d;\n    color: #fff;\n    margin-left: 30px;\n    box-shadow: 0px 4px 10px rgba(252, 132, 45, 0.5);\n    filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));\n\n    @media screen and (max-width: 767px) {\n      margin: 0 auto;\n      margin-top: 60px;\n      width: 48px;\n      height: 48px;\n    }\n\n    &:hover {\n      background-color: #fc2d2d;\n    }\n  }\n"]))),v=(0,y.default)(p.Z)(r||(r=(0,f.Z)(["\n  &.MuiTextField-root {\n    margin: 0 24px;\n    width: 240px;\n    background-color: transparent;\n\n    @media screen and (max-width: 767px) {\n      width: 280px;\n      margin: 0;\n      margin-top: 61px;\n    }\n\n    .MuiInputBase-root {\n      background-color: white;\n\n      ::before {\n        border-color: #e0e0e0;\n      }\n    }\n  }\n"]))),w=y.default.form(a||(a=(0,f.Z)(["\n  align-items: center;\n  display: flex;\n  position: relative;\n\n  &.afterInvisible {\n    ::after {\n      display: none;\n    }\n  }\n\n  ::after {\n    left: 0;\n    bottom: -345px;\n    content: '';\n    position: absolute;\n    right: 0;\n    width: 100%;\n    z-index: 1;\n    height: 50px;\n    background: linear-gradient(\n      180deg,\n      rgb(255 255 255 / 23%) 0%,\n      #ffffff 42.19%\n    );\n    @media screen and (max-width: 767px) {\n      bottom: 77px;\n    }\n  }\n\n  div.wrapper {\n    display: block;\n    @media screen and (max-width: 767px) {\n      display: none;\n    }\n  }\n\n  .MuiInputLabel-root {\n    color: #9b9faa;\n    font-weight: 700;\n    @media screen and (max-width: 767px) {\n      font-size: 14px;\n    }\n  }\n"]))),Z=(0,y.default)(h.Z)(o||(o=(0,f.Z)(["\n  &.MuiButtonBase-root {\n    @media screen and (max-width: 767px) {\n      position: absolute;\n      top: 83px;\n      left: 0;\n      z-index: 1;\n      width: 40px;\n      display: none;\n    }\n    @media screen and (min-width: 768px) {\n      display: none;\n    }\n  }\n"]))),j=t(9211),k=t(2791),S=t(339),I=t(5095),C=t.n(I),P=t(229),B=t(184);function T(n){var e=n.onSubmitting,t=n.onHiddenClick,i=(0,k.useState)(""),r=(0,s.Z)(i,2),a=r[0],o=r[1],d=(0,k.useState)(""),f=(0,s.Z)(d,2),g=f[0],h=f[1],y=(0,k.useState)([]),I=(0,s.Z)(y,2),T=I[0],D=I[1],M=(0,k.useState)(""),F=(0,s.Z)(M,2),z=F[0],E=F[1],L=(0,x.Z)("(max-width:767px)"),H=(0,k.useRef)(),A=(0,k.useRef)(),_=(0,k.useRef)();(0,k.useEffect)((function(){""!==a?(console.log("useEffect get products"),(0,j.Xp)(a).then((function(n){var e,t=null!==(e=n[0])&&void 0!==e&&e.title?n:[];D(t)}))):D([])}),[a]);var R=T.map((function(n){return n.title.ru})),V=function(n){n?(t(n),H.current.style.display="block",A.current.style.display="none",_.current.style.display="inline-flex",H.current.parentElement.classList.add("afterInvisible")):(t(n),H.current.style.display="none",A.current.style.display="flex",_.current.style.display="none",H.current.parentElement.classList.remove("afterInvisible"))},G=C()((function(n){o(n.target.value)}),300);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Z,{ref:_,onClick:function(){return V(!1)},sx:{ml:"20px"},children:(0,B.jsx)(P.Z,{})}),(0,B.jsxs)(w,{onSubmit:function(n){if(n.preventDefault(),h(n.target.elements.grams.value.trim()),z){var t=T.find((function(n){return n.title.ru===z}))._id;e({weight:g,id:t}),o(""),h(""),n.currentTarget.reset()}},children:[(0,B.jsxs)("div",{className:"wrapper",ref:H,children:[(0,B.jsx)(u.Z,{sx:{display:{xs:"block",md:"inline-block"}},disablePortal:!0,id:"combo-box-demo",freeSolo:!0,value:a,onChange:function(n,e){E(e)},noOptionsText:"No products",options:R,renderInput:function(n){return(0,B.jsx)(v,(0,l.Z)((0,l.Z)({required:!0},n),{},{onChange:G,value:a,id:"filled-product",label:"Enter product name",name:"product",variant:"filled"}))}}),(0,B.jsx)(p.Z,{required:!0,label:"Grams",id:"filled-number",name:"grams",type:"number",onChange:function(n){return h(n.target.value)},sx:{width:{xs:280,md:150},mx:3,margin:{xs:0},marginBottom:{xs:"60px",md:0},"&.MuiTextField-root .MuiInputBase-root":{backgroundColor:"white","::before":{borderColor:"#e0e0e0"}}},InputProps:{endAdornment:(0,B.jsx)(c.Z,{position:"end",children:"gr"})},inputProps:{inputMode:"numeric",pattern:"d{4}",max:9999},variant:"filled"}),(0,B.jsx)(S.Eo,{sx:{display:{xs:"block",md:"none"},margin:"0 auto",marginBottom:"20px",boxShadow:"0px 4px 10px rgba(252, 132, 45, 0.5)"},onClick:function(){return L?V(!1):null},type:"submit",disabled:!a||!g,children:"Add"})]}),(0,B.jsx)(b,{ref:A,onClick:function(){return L?V(!0):null},"aria-label":"add",type:L?"button":"submit",children:(0,B.jsx)(m.Z,{})})]})]})}var D=t(4852),M=t(9900),F=t(7247);function z(n){var e=n.name,t=n.grams,i=n.kcal,r=n.deleteProduct;return(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(D.ZP,{sx:{alignItems:"flex-end",padding:0,margin:0},children:[(0,B.jsx)(M.Z,{sx:{paddingBottom:{xs:"8px",md:"20px"},paddingTop:{xs:"20px",md:"16px"},width:{xs:130,md:270},m:0,mr:{xs:"8px",md:"48px"},borderBottom:"1px solid #80808038",flexGrow:0,".MuiListItemText-primary":{fontFamily:"Verdana",fontWeight:400,fontSize:"14px",lineHeight:"1.1",letterSpacing:"0.04em"}},primary:e}),(0,B.jsx)(M.Z,{sx:{paddingBottom:{xs:"8px",md:"20px"},paddingTop:{xs:"20px",md:"16px"},width:{xs:49,md:107},m:0,mr:{xs:"8px",md:"32px"},textAlign:"right",borderBottom:"1px solid #80808038",flexGrow:0,".MuiListItemText-primary":{fontFamily:"Verdana",fontWeight:400,fontSize:"14px",lineHeight:"1.1",letterSpacing:"0.04em"}},primary:"".concat(t," g")}),(0,B.jsx)(M.Z,{sx:{paddingBottom:{xs:"8px",md:"20px"},paddingTop:{xs:"20px",md:"16px"},width:{xs:58,md:106},m:0,mr:{xs:"1px",md:"24px"},textAlign:"right",borderBottom:"1px solid #80808038",flexGrow:0,lineHeight:"0.9",".MuiListItemText-primary":{display:"inline-block",marginRight:"3px",fontFamily:"Verdana",fontWeight:400,fontSize:"14px",lineHeight:"1.1",letterSpacing:{xs:"0.1px;",md:"0.04em"}},".MuiListItemText-secondary":{display:"inline-block",color:"#212121",fontFamily:"Verdana",fontWeight:400,fontSize:{xs:"9px",md:"14px"},lineHeight:"1.1",letterSpacing:{xs:"0.1px;",md:"0.04em"}}},primary:"".concat(i),secondary:"kcal"}),(0,B.jsx)(h.Z,{sx:{marginBottom:{xs:"4px",md:"8px"},padding:{xs:"4px",md:"9px"}},edge:"end","aria-label":"delete",onClick:r,children:(0,B.jsx)(F.Z,{})})]})})}var E=t(9955);function L(n){var e=n.poducts,t=n.onDeleteProduct,i=n.dayId;return(0,B.jsx)(E.B,{children:e.map((function(n){var e=n.id,r=n.weight,a=n.title,o=n.kcal;return(0,B.jsx)(z,{name:a,grams:r,kcal:o.toFixed(0),deleteProduct:function(n){return t({dayId:i,eatenProductId:e})}},e)}))})}var H,A=t(5594),_=t(2426),R=t.n(_),V=t(9276),G=t(6571),W=t(4398),q=t(9783),N=y.default.h2(H||(H=(0,f.Z)(["\n  margin-left: 24px;\n  margin-right: 12px;\n  font-size: 34px;\n  font-weight: 900;\n  font-family: 'Verdana';\n  @media screen and (max-width: 767px) {\n    font-weight: 700;\n    font-size: 18px;\n    line-height: 1.1;\n    margin: 0;\n  }\n"])));function O(n){var e=n.onDateChange,t=(0,k.useState)(R()(new Date)),i=(0,s.Z)(t,2),r=i[0],a=i[1];(0,k.useEffect)((function(){e(r)}),[e,r]);var o=new Date(r).toLocaleDateString();return(0,B.jsx)(G._,{dateAdapter:q.Z,children:(0,B.jsx)(W.$,{label:"Basic example",value:r,onChange:function(n){a(n)},renderInput:function(n){var e=n.inputRef,t=n.InputProps;return(0,B.jsxs)(V.Z,{sx:{display:"flex",alignItems:"center",marginTop:{xs:"40px"}},children:[(0,B.jsx)(N,{ref:e,children:o}),null===t||void 0===t?void 0:t.endAdornment]})}})})}var X=t(3767),$=function(){var n=(0,k.useState)([]),e=(0,s.Z)(n,2),t=e[0],i=e[1],r=(0,k.useState)(""),a=(0,s.Z)(r,2),o=a[0],x=a[1],u=(0,k.useState)(""),p=(0,s.Z)(u,2),c=p[0],m=p[1],f=(0,k.useState)({}),g=(0,s.Z)(f,2),h=g[0],y=g[1],b=(0,k.useState)(!1),v=(0,s.Z)(b,2),w=v[0],Z=v[1];(0,k.useEffect)((function(){""!==o&&(0,j.Pk)({date:o}).then((function(n){var e,t=n.id,r=n.eatenProducts;y(null!==(e=n.daySummary)&&void 0!==e?e:(0,l.Z)((0,l.Z)({},n),{},{date:o})),m(null!==t&&void 0!==t?t:""),i(null!==r&&void 0!==r?r:[])}))}),[o]);return(0,B.jsxs)(X.Z,{direction:{xs:"column",md:"column",lg:"row"},sx:{gap:"113px",m:"0 auto"},children:[(0,B.jsx)(V.Z,{sx:{display:"flex",justifyContent:"center",paddingTop:{xs:"0px",lg:"253px"}},children:(0,B.jsxs)(V.Z,{sx:{margin:{xs:"0 auto",md:"0"}},children:[!w&&(0,B.jsx)(O,{onDateChange:function(n){var e=new Date(n).toISOString().split("T")[0];x(e)}}),(0,B.jsxs)(V.Z,{sx:{display:{xs:"flex",md:"block"},flexDirection:"column-reverse"},component:"div",children:[(0,B.jsx)(T,{onSubmitting:function(n){var e={date:o,productId:n.id,weight:+n.weight};(0,j.hZ)(e).then((function(n){n.newDay?(m(n.newDay.id),i((function(e){return[].concat((0,d.Z)(e),[n.eatenProduct])})),y(n.newSummary)):(i(n.day.eatenProducts),y(n.daySummary))}))},onHiddenClick:function(n){Z(n)}}),!w&&(0===t.length?(0,B.jsx)(E.k,{children:"There are no products on the selected date"}):(0,B.jsx)(L,{poducts:t,onDeleteProduct:function(n){(0,j.Ir)(n).then((function(n){console.log(n)})),(0,j.Pk)({date:o}).then((function(n){var e=n.eatenProducts;i(null!==e&&void 0!==e?e:[]),y(n.daySummary)}))},dayId:c}))]})]})}),(0,B.jsx)(A.m,{summaryDayInfo:h})]})},J=function(){return(0,B.jsx)($,{})}}}]);
//# sourceMappingURL=713.e825ac4f.chunk.js.map