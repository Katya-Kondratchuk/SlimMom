"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[570],{339:function(n,e,t){t.d(e,{Eo:function(){return x},I8:function(){return h},Nd:function(){return p},PQ:function(){return g},Wc:function(){return m}});var r,i=t(168),o=t(1413),a=t(6151),d=t(6934),l=t(5202),u=t(4925),c=t(5523),s=t(1614),f=t(184),x=(0,d.ZP)(a.Z)((function(n){n.theme;return{color:"#FFFFFF",backgroundColor:"#FC842D",display:"block",fontWeight:"700",borderRadius:"30px",width:"210px",padding:"13px 25px",textTransform:"none","&:hover":{backgroundColor:"#FFFFFF",color:"#FC842D"}}})),m=(0,d.ZP)(l.Z)((function(n){n.theme;return{color:"#E0E0E0","&.Mui-checked":{color:"#FC842D"}}})),p=(0,d.ZP)(u.Z)((function(n){n.theme;return{color:"#9B9FAA",fontFamily:"Verdana",fontWeight:700,fontSize:14,lineHeight:1.14}})),h=(0,d.ZP)((function(n){return(0,f.jsx)(c.Z,(0,o.Z)({},n))}))((function(n){n.theme;return{".MuiFormControlLabel-label":n.checked&&{color:"#FC842D"}}})),g=(0,d.ZP)(s.Z)(r||(r=(0,i.Z)(["\n  margin-left: 0;\n  margin-right: 0;\n"])))},5594:function(n,e,t){t.d(e,{m:function(){return m},b:function(){return x}});var r,i=t(493),o=t(9834),a=t(4852),d=t(9900),l=t(9434),u=t(168),c=t(1266),s=t(8789).default.div(r||(r=(0,u.Z)(["\n  @media screen and (min-width: 768px) {\n    width: 768px;\n    height: 326px;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-position: right bottom;\n    background-size: contain;\n    @media screen and (min-device-pixel-ratio: 2),\n      (min-resolution: 192dpi),\n      (min-resolution: 2dppx) {\n      background-image: url(",");\n    }\n  }\n  @media screen and (min-width: 1280px) {\n    background-image: url(",");\n    width: 517px;\n    height: 850px;\n    @media screen and (min-device-pixel-ratio: 2),\n      (min-resolution: 192dpi),\n      (min-resolution: 2dppx) {\n      background-image: url(",");\n    }\n  }\n"])),c,c,c,c),f=t(184);function x(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=Math.floor(Math.random()*n.length);return n[e]}function m(n){var e,t=n.summaryDayInfo,r=(0,l.v9)((function(n){return n.daily})),u=r.notAllowedProducts,c=(new Date).toISOString().split("T")[0],m=null===r||void 0===r||null===(e=r.summaries)||void 0===e?void 0:e.find((function(n){return n.date===c}));console.log(t),console.log(m);var p=t||m||{},h=p.kcalConsumed,g=void 0===h?0:h,b=p.kcalLeft,Z=void 0===b?0:b,v=p.percentsOfDailyRate,j=void 0===v?0:v,y=p.dailyRate,k=void 0===y?0:y,w=p.date,P=void 0===w?c:w;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(s,{children:[(0,f.jsxs)(i.Z,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},subheader:(0,f.jsxs)(o.Z,{children:["Summary for ",P]}),children:[(0,f.jsx)(a.ZP,{disableGutters:!0,children:(0,f.jsx)(d.Z,{primary:"Left ".concat(Z||r.dailyRate-g)})}),(0,f.jsx)(a.ZP,{disableGutters:!0,children:(0,f.jsx)(d.Z,{primary:"Consumed ".concat(g)})}),(0,f.jsx)(a.ZP,{disableGutters:!0,children:(0,f.jsx)(d.Z,{primary:"Daily rate ".concat(k||r.dailyRate)})}),(0,f.jsx)(a.ZP,{disableGutters:!0,children:(0,f.jsx)(d.Z,{primary:"n% of normal ".concat(j.toFixed(0)," %")})})]}),(0,f.jsxs)(i.Z,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},subheader:(0,f.jsx)(o.Z,{children:"`Food not recommended`"}),children:[(0,f.jsx)(a.ZP,{disableGutters:!0,children:(0,f.jsx)(d.Z,{primary:"".concat(x(u)||"")})}),(0,f.jsx)(a.ZP,{disableGutters:!0,children:(0,f.jsx)(d.Z,{primary:"".concat(x(u)||"")})}),(0,f.jsx)(a.ZP,{disableGutters:!0,children:(0,f.jsx)(d.Z,{primary:"".concat(x(u)||"")})}),(0,f.jsx)(a.ZP,{disableGutters:!0,children:(0,f.jsx)(d.Z,{primary:"".concat(x(u)||"")})})]})]})})}},6570:function(n,e,t){t.r(e),t.d(e,{default:function(){return X}});var r,i,o,a=t(3433),d=t(1413),l=t(9439),u=t(3914),c=t(6931),s=t(3466),f=t(2419),x=t(168),m=t(9877),p=t(8789),h=(0,p.default)(m.Z)(r||(r=(0,x.Z)(["\n  &.MuiFab-root {\n    background-color: #fc842d;\n    color: #fff;\n    margin-left: 30px;\n\n    &:hover {\n      background-color: #fc2d2d;\n    }\n  }\n"]))),g=(0,p.default)(c.Z)(i||(i=(0,x.Z)(["\n  &.MuiTextField-root {\n    margin: 0 24px;\n    width: 240px;\n    background-color: transparent;\n\n    .MuiInputBase-root {\n      background-color: white;\n\n      ::before {\n        border-color: #e0e0e0;\n      }\n    }\n  }\n"]))),b=p.default.form(o||(o=(0,x.Z)(["\n  align-items: center;\n  display: flex;\n  position: relative;\n\n  ::after {\n    left: 0;\n    bottom: -345px;\n    content: '';\n    position: absolute;\n    right: 0;\n    width: 100%;\n    z-index: 1;\n    height: 50px;\n    background: linear-gradient(\n      180deg,\n      rgb(255 255 255 / 23%) 0%,\n      #ffffff 42.19%\n    );\n  }\n"]))),Z=t(9211),v=t(2791),j=t(184);function y(n){var e=n.onSubmitting,t=(0,v.useState)(""),r=(0,l.Z)(t,2),i=r[0],o=r[1],a=(0,v.useState)([]),x=(0,l.Z)(a,2),m=x[0],p=x[1],y=(0,v.useState)(""),k=(0,l.Z)(y,2),w=k[0],P=k[1];(0,v.useEffect)((function(){""!==i?(0,Z.Xp)(i).then((function(n){var e,t=null!==(e=n[0])&&void 0!==e&&e.title?n:[];p(t)})):p([])}),[i]);var F=m.map((function(n){return n.title.ru}));return(0,j.jsxs)(b,{onSubmit:function(n){n.preventDefault();var t=n.target.elements.grams.value.trim();if(w){var r=m.find((function(n){return n.title.ru===w}))._id;e({weight:t,id:r}),o(""),n.currentTarget.reset()}},children:[(0,j.jsx)(u.Z,{sx:{display:"inline-block"},disablePortal:!0,id:"combo-box-demo",freeSolo:!0,value:i,onChange:function(n,e){P(e)},noOptionsText:"No products",options:F,renderInput:function(n){return(0,j.jsx)(g,(0,d.Z)((0,d.Z)({required:!0},n),{},{onChange:function(n){return o(n.target.value)},value:i,id:"filled-product",label:"Enter product name",name:"product",variant:"filled"}))}}),(0,j.jsx)(c.Z,{required:!0,label:"Grams",id:"filled-number",name:"grams",type:"number",sx:{width:150,mx:3,"&.MuiTextField-root .MuiInputBase-root":{backgroundColor:"white","::before":{borderColor:"#e0e0e0"}}},InputProps:{endAdornment:(0,j.jsx)(s.Z,{position:"end",children:"gr"})},inputProps:{inputMode:"numeric",pattern:"d{4}",max:9999},variant:"filled"}),(0,j.jsx)(h,{"aria-label":"add",type:"submit",children:(0,j.jsx)(f.Z,{})})]})}var k=t(4852),w=t(9900),P=t(3400),F=t(7247);function S(n){var e=n.name,t=n.grams,r=n.kcal,i=n.deleteProduct;return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(k.ZP,{sx:{alignItems:"flex-end"},children:[(0,j.jsx)(w.Z,{sx:{width:240,mr:4,borderBottom:"1px solid #80808038",flexGrow:0},primary:e}),(0,j.jsx)(w.Z,{sx:{width:107,ml:2,textAlign:"right",borderBottom:"1px solid #80808038",flexGrow:0},primary:"".concat(t," g")}),(0,j.jsx)(w.Z,{sx:{width:106,ml:4,mr:2,textAlign:"right",borderBottom:"1px solid #80808038",flexGrow:0},primary:"".concat(r," kcal")}),(0,j.jsx)(P.Z,{edge:"end","aria-label":"delete",onClick:i,children:(0,j.jsx)(F.Z,{})})]})})}var D,C,I=t(493),G=(0,p.default)(I.Z)(D||(D=(0,x.Z)(["\n  ::-webkit-scrollbar {\n    width: 6px;\n    background: #f0f1f3;\n  }\n  ::-webkit-scrollbar-track {\n    border-radius: 6px;\n  }\n  ::-webkit-scrollbar-thumb {\n    background: #264061;\n    border-radius: 6px;\n  }\n\n  &.MuiList-root {\n    margin-top: 40px;\n    width: 650px;\n    position: relative;\n    overflow: auto;\n    max-height: 270px;\n  }\n"]))),M=p.default.h2(C||(C=(0,x.Z)(["\n  text-align: center;\n  font-size: 36px;\n  font-weight: 700;\n  font-family: 'Verdana';\n  color: #070730a7;\n  margin-left: 40px;\n  margin-top: 55px;\n  width: 550px;\n"])));function A(n){var e=n.poducts,t=n.onDeleteProduct,r=n.dayId;return(0,j.jsx)(G,{children:e.map((function(n){var e=n.id,i=n.weight,o=n.title,a=n.kcal;return(0,j.jsx)(S,{name:o,grams:i,kcal:a.toFixed(0),deleteProduct:function(n){return t({dayId:r,eatenProductId:e})}},e)}))})}var B,E=t(5594),T=t(2426),R=t.n(T),_=t(9276),z=t(6571),L=t(329),W=t(9783),O=p.default.h2(B||(B=(0,x.Z)(["\n  margin-left: 24px;\n  margin-right: 12px;\n  font-size: 34px;\n  font-weight: 900;\n  font-family: 'Verdana';\n"])));function V(n){var e=n.onDateChange,t=(0,v.useState)(R()(new Date)),r=(0,l.Z)(t,2),i=r[0],o=r[1];(0,v.useEffect)((function(){e(i)}),[e,i]);var a=new Date(i).toLocaleDateString();return(0,j.jsx)(z._,{dateAdapter:W.Z,children:(0,j.jsx)(L.M,{label:"Basic example",value:i,onChange:function(n){o(n)},renderInput:function(n){var e=n.inputRef,t=n.InputProps;return(0,j.jsxs)(_.Z,{sx:{display:"flex",alignItems:"baseline"},children:[(0,j.jsx)(O,{ref:e,children:a}),null===t||void 0===t?void 0:t.endAdornment]})}})})}var q=t(339),N=t(788),Q=t(9434),H=t(4289),X=function(){var n=(0,v.useState)([]),e=(0,l.Z)(n,2),t=e[0],r=e[1],i=(0,v.useState)(""),o=(0,l.Z)(i,2),u=o[0],c=o[1],s=(0,v.useState)(""),f=(0,l.Z)(s,2),x=f[0],m=f[1],p=(0,v.useState)({}),h=(0,l.Z)(p,2),g=h[0],b=h[1],k=(0,Q.v9)(H.y$);(0,v.useEffect)((function(){""!==u&&(0,Z.Pk)({date:u}).then((function(n){var e;console.log(n);var t=n.id,i=n.eatenProducts;b(null!==(e=n.daySummary)&&void 0!==e?e:(0,d.Z)((0,d.Z)({},n),{},{date:u})),m(null!==t&&void 0!==t?t:""),r(null!==i&&void 0!==i?i:[])}))}),[u]);return(0,j.jsx)(q.PQ,{children:(0,j.jsxs)("div",{style:{display:"flex"},children:[(0,j.jsxs)("div",{style:{marginRight:"136px"},children:[(0,j.jsx)(V,{onDateChange:function(n){var e=new Date(n).toISOString().split("T")[0];c(e)}}),(0,j.jsx)(y,{onSubmitting:function(n){var e={date:u,productId:n.id,weight:+n.weight};(0,Z.hZ)(e).then((function(n){n.newDay?(m(n.newDay.id),r((function(e){return[].concat((0,a.Z)(e),[n.eatenProduct])})),b(n.newSummary)):(r(n.day.eatenProducts),b(n.daySummary))}))}}),0===t.length?(0,j.jsx)(M,{children:"There are no products on the selected date"}):(0,j.jsx)(A,{poducts:t,onDeleteProduct:function(n){(0,Z.Ir)(n).then((function(n){console.log(n)})),(0,Z.Pk)({date:u}).then((function(n){var e=n.eatenProducts;r(null!==e&&void 0!==e?e:[]),b(n.daySummary)}))},dayId:x})]}),(0,j.jsxs)("div",{children:[k&&(0,j.jsx)(N.Z,{styles:{xs:"none",md:"none",lg:"flex"}}),(0,j.jsx)(E.m,{summaryDayInfo:g})]})]})})}},1266:function(n,e,t){n.exports=t.p+"static/media/desktoprightSideBar.07ec7143c40752d1b8ad.png"}}]);
//# sourceMappingURL=570.0137158d.chunk.js.map