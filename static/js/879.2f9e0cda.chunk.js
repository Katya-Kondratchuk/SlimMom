"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[879],{9198:function(n,t,r){var e=r(1614),a=(r(2791),r(184));t.Z=function(n){var t=n.children;return(0,a.jsx)(e.Z,{sx:{px:{sm:"20px",md:"32px",lg:"16px"}},children:t})}},4879:function(n,t,r){r.r(t),r.d(t,{default:function(){return R}});var e,a,u=r(1413),o=r(3433),i=r(9439),c=r(9198),s=r(7227),l=r(5935),d=r(3466),p=r(2419),f=r(168),x=r(9877),v=r(8789),h=(0,v.default)(x.Z)(e||(e=(0,f.Z)(["\n  &.MuiFab-root {\n    background-color: #fc842d;\n    color: #fff;\n    margin-left: 30px;\n\n    &:hover {\n      background-color: #fc2d2d;\n    }\n  }\n"]))),m=(0,v.default)(l.Z)(a||(a=(0,f.Z)(["\n  &.MuiTextField-root {\n    margin: 0 24px;\n    width: 240px;\n\n    /* .MuiInputBase-root.Mui-focused {\n      background-color: #1acebf26;\n    } */\n  }\n"]))),g=r(2326),Z=r(2791),b=r(184);function w(n){var t=n.onSubmitting,r=(0,Z.useState)(""),e=(0,i.Z)(r,2),a=e[0],o=e[1],c=(0,Z.useState)([]),f=(0,i.Z)(c,2),x=f[0],v=f[1],w=(0,Z.useState)(""),j=(0,i.Z)(w,2),y=j[0],k=j[1];(0,Z.useEffect)((function(){""!==a?(0,g.Xp)(a).then((function(n){var t,r=null!==(t=n[0])&&void 0!==t&&t.title?n:[];v(r)})):v([])}),[a]);var I=x.map((function(n){return n.title.ru}));return(0,b.jsxs)("form",{style:{alignItems:"center",display:"flex"},onSubmit:function(n){n.preventDefault();var r=n.target.elements.grams.value.trim();if(y){var e=x.find((function(n){return n.title.ru===y}))._id;t({weight:r,id:e}),o(""),n.currentTarget.reset()}},children:[(0,b.jsx)(s.Z,{sx:{display:"inline-block"},disablePortal:!0,id:"combo-box-demo",freeSolo:!0,value:a,onChange:function(n,t){k(t)},noOptionsText:"No products",options:I,renderInput:function(n){return(0,b.jsx)(m,(0,u.Z)((0,u.Z)({required:!0},n),{},{onChange:function(n){return o(n.target.value)},value:a,id:"filled-product",label:"Enter product name",name:"product",variant:"filled"}))}}),(0,b.jsx)(l.Z,{required:!0,label:"Grams",id:"filled-number",name:"grams",type:"number",sx:{width:150,mx:3},InputProps:{endAdornment:(0,b.jsx)(d.Z,{position:"end",children:"gr"})},inputProps:{inputMode:"numeric",pattern:"d{4}",max:9999},variant:"filled"}),(0,b.jsx)(h,{"aria-label":"add",type:"submit",children:(0,b.jsx)(p.Z,{})})]})}var j=r(4852),y=r(9900),k=r(3400),I=r(7247);function S(n){var t=n.name,r=n.grams,e=n.kcal,a=n.deleteProduct;return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(j.ZP,{children:[(0,b.jsx)(y.Z,{sx:{width:240,mr:4,borderBottom:"1px solid #80808038",flexGrow:0},primary:t}),(0,b.jsx)(y.Z,{sx:{width:107,ml:2,textAlign:"right",borderBottom:"1px solid #80808038",flexGrow:0},primary:"".concat(r," g")}),(0,b.jsx)(y.Z,{sx:{width:106,ml:4,mr:2,textAlign:"right",borderBottom:"1px solid #80808038",flexGrow:0},primary:"".concat(e," kcal")}),(0,b.jsx)(k.Z,{edge:"end","aria-label":"delete",onClick:a,children:(0,b.jsx)(I.Z,{})})]})})}var P,D=r(493),C=(0,v.default)(D.Z)(P||(P=(0,f.Z)(["\n  &.MuiList-root {\n    margin-top: 40px;\n    width: 650px;\n    position: relative;\n    overflow: auto;\n    max-height: 270px;\n  }\n"])));function M(n){var t=n.poducts,r=n.onDeleteProduct;return(0,b.jsx)(C,{children:t.map((function(n){var t=n.id,e=n.weight,a=n.title,u=n.kcal,o=n.dayId;n.daySummary;return(0,b.jsx)(S,{name:a,grams:e,kcal:u.toFixed(0),deleteProduct:function(n){return r({dayId:o,eatenProductId:t})}},t)}))})}function _(n){n.respons,n.data,n.products;return(0,b.jsx)(b.Fragment,{})}var A,B=r(2426),F=r.n(B),G=r(9276),T=r(6571),E=r(329),L=r(9783),q=v.default.h2(A||(A=(0,f.Z)(["\n  margin-left: 24px;\n  margin-right: 12px;\n  font-size: 34px;\n  font-weight: 900;\n  font-family: 'Verdana';\n"])));function O(n){var t=n.onDateChange,r=(0,Z.useState)(F()(new Date)),e=(0,i.Z)(r,2),a=e[0],u=e[1];(0,Z.useEffect)((function(){t(a)}),[t,a]);var o=new Date(a).toLocaleDateString();return(0,b.jsx)(T._,{dateAdapter:L.Z,children:(0,b.jsx)(E.M,{label:"Basic example",value:a,onChange:function(n){u(n)},renderInput:function(n){var t=n.inputRef,r=n.InputProps;return(0,b.jsxs)(G.Z,{sx:{display:"flex",alignItems:"baseline"},children:[(0,b.jsx)(q,{ref:t,children:o}),null===r||void 0===r?void 0:r.endAdornment]})}})})}var R=function(){var n=(0,Z.useState)([]),t=(0,i.Z)(n,2),r=t[0],e=t[1],a=(0,Z.useState)(""),s=(0,i.Z)(a,2),l=s[0],d=s[1];console.log(r);return(0,b.jsx)(c.Z,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)(O,{onDateChange:function(n){var t=new Date(n).toISOString().split("T")[0];d(t)}}),(0,b.jsx)(w,{onSubmitting:function(n){var t={date:l,productId:n.id,weight:+n.weight};(0,g.hZ)(t).then((function(n){e((function(t){var r,e;return[].concat((0,o.Z)(t),[(0,u.Z)((0,u.Z)((0,u.Z)({},(null===n||void 0===n?void 0:n.day)||(null===n||void 0===n?void 0:n.newDay)),n.eatenProduct),{},{dayId:(null===(r=n.day)||void 0===r?void 0:r.id)||(null===(e=n.newDay)||void 0===e?void 0:e.id)})])})),console.log(n)}))}}),0===r.length?"\u043d\u0435\u0442\u0443 \u043d\u0435\u0447\u0435\u0433\u043e":(0,b.jsx)(M,{poducts:r,onDeleteProduct:function(n){console.log(n),(0,g.Ir)(n).then((function(n){console.log(n)})),(0,g.Pk)(l).then()}}),(0,b.jsx)(_,{})]})})}},2326:function(n,t,r){r.d(t,{Hp:function(){return i},Ir:function(){return l},Pk:function(){return d},Xp:function(){return c},hZ:function(){return s}});var e=r(5861),a=r(4687),u=r.n(a),o=r(3263);o.Z.defaults.baseURL="https://slimmom-backend.goit.global";var i=function(){var n=(0,e.Z)(u().mark((function n(t){var r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.Z.post("/daily-rate",t);case 3:return r=n.sent,n.abrupt("return",r.data);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",{error:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}(),c=function(){var n=(0,e.Z)(u().mark((function n(t){var r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.Z.get("/product?search=".concat(t));case 3:return r=n.sent,n.abrupt("return",r.data);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",{error:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}(),s=function(){var n=(0,e.Z)(u().mark((function n(t){var r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.Z.post("/day",t);case 3:return r=n.sent,n.abrupt("return",r.data);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",{error:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}(),l=function(){var n=(0,e.Z)(u().mark((function n(t){var r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(t),n.prev=1,n.next=4,o.Z.delete("/day",{data:t});case 4:return r=n.sent,n.abrupt("return",r.data);case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt("return",{error:n.t0});case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(t){return n.apply(this,arguments)}}(),d=function(){var n=(0,e.Z)(u().mark((function n(t){var r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.Z.post("/day/info",t);case 3:return r=n.sent,n.abrupt("return",r.data);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",{error:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}()}}]);
//# sourceMappingURL=879.2f9e0cda.chunk.js.map