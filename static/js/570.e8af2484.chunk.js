"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[570],{339:function(n,e,t){t.d(e,{Eo:function(){return x},I8:function(){return h},Nd:function(){return p},PQ:function(){return g},Wc:function(){return f}});var r,o=t(168),i=t(1413),a=t(6151),d=t(6934),l=t(5202),u=t(4925),c=t(5523),s=t(1614),m=t(184),x=(0,d.ZP)(a.Z)((function(n){n.theme;return{color:"#FFFFFF",backgroundColor:"#FC842D",display:"block",fontWeight:"700",borderRadius:"30px",width:"210px",padding:"13px 25px",textTransform:"none","&:hover":{backgroundColor:"#FFFFFF",color:"#FC842D"}}})),f=(0,d.ZP)(l.Z)((function(n){n.theme;return{color:"#E0E0E0","&.Mui-checked":{color:"#FC842D"}}})),p=(0,d.ZP)(u.Z)((function(n){n.theme;return{color:"#9B9FAA",fontFamily:"Verdana",fontWeight:700,fontSize:14,lineHeight:1.14}})),h=(0,d.ZP)((function(n){return(0,m.jsx)(c.Z,(0,i.Z)({},n))}))((function(n){n.theme;return{".MuiFormControlLabel-label":n.checked&&{color:"#FC842D"}}})),g=(0,d.ZP)(s.Z)(r||(r=(0,o.Z)(["\n  margin-left: 0;\n  margin-right: 0;\n"])))},5594:function(n,e,t){t.d(e,{m:function(){return f},b:function(){return x}});var r,o=t(493),i=t(9834),a=t(4852),d=t(9900),l=t(9434),u=t(168),c=t(1266),s=t(8789).default.div(r||(r=(0,u.Z)(["\n  @media screen and (min-width: 768px) {\n    width: 768px;\n    height: 326px;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-position: right bottom;\n    background-size: contain;\n    @media screen and (min-device-pixel-ratio: 2),\n      (min-resolution: 192dpi),\n      (min-resolution: 2dppx) {\n      background-image: url(",");\n    }\n  }\n  @media screen and (min-width: 1280px) {\n    background-image: url(",");\n    width: 517px;\n    height: 850px;\n    @media screen and (min-device-pixel-ratio: 2),\n      (min-resolution: 192dpi),\n      (min-resolution: 2dppx) {\n      background-image: url(",");\n    }\n  }\n"])),c,c,c,c),m=t(184);function x(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=Math.floor(Math.random()*n.length);return n[e]}function f(n){var e,t=n.summaryDayInfo,r=(0,l.v9)((function(n){return n.daily})),u=r.notAllowedProducts,c=(new Date).toISOString().split("T")[0],f=null===r||void 0===r||null===(e=r.summaries)||void 0===e?void 0:e.find((function(n){return n.date===c}));console.log(t),console.log(f);var p=t||f||{},h=p.kcalConsumed,g=void 0===h?0:h,Z=p.kcalLeft,v=void 0===Z?0:Z,b=p.percentsOfDailyRate,j=void 0===b?0:b,y=p.dailyRate,w=void 0===y?0:y,k=p.date,P=void 0===k?0:k;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(s,{children:[(0,m.jsxs)(o.Z,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},subheader:(0,m.jsxs)(i.Z,{children:["Summary for ",P]}),children:[(0,m.jsx)(a.ZP,{disableGutters:!0,children:(0,m.jsx)(d.Z,{primary:"Left ".concat(v)})}),(0,m.jsx)(a.ZP,{disableGutters:!0,children:(0,m.jsx)(d.Z,{primary:"Consumed ".concat(g)})}),(0,m.jsx)(a.ZP,{disableGutters:!0,children:(0,m.jsx)(d.Z,{primary:"Daily rate ".concat(w)})}),(0,m.jsx)(a.ZP,{disableGutters:!0,children:(0,m.jsx)(d.Z,{primary:"n% of normal ".concat(j)})})]}),(0,m.jsxs)(o.Z,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},subheader:(0,m.jsx)(i.Z,{children:"`Food not recommended`"}),children:[(0,m.jsx)(a.ZP,{disableGutters:!0,children:(0,m.jsx)(d.Z,{primary:"".concat(x(u)||"")})}),(0,m.jsx)(a.ZP,{disableGutters:!0,children:(0,m.jsx)(d.Z,{primary:"".concat(x(u)||"")})}),(0,m.jsx)(a.ZP,{disableGutters:!0,children:(0,m.jsx)(d.Z,{primary:"".concat(x(u)||"")})}),(0,m.jsx)(a.ZP,{disableGutters:!0,children:(0,m.jsx)(d.Z,{primary:"".concat(x(u)||"")})})]})]})})}},6570:function(n,e,t){t.r(e),t.d(e,{default:function(){return V}});var r,o,i=t(3433),a=t(1413),d=t(9439),l=t(3914),u=t(6931),c=t(3466),s=t(2419),m=t(168),x=t(9877),f=t(8789),p=(0,f.default)(x.Z)(r||(r=(0,m.Z)(["\n  &.MuiFab-root {\n    background-color: #fc842d;\n    color: #fff;\n    margin-left: 30px;\n\n    &:hover {\n      background-color: #fc2d2d;\n    }\n  }\n"]))),h=(0,f.default)(u.Z)(o||(o=(0,m.Z)(["\n  &.MuiTextField-root {\n    margin: 0 24px;\n    width: 240px;\n    background-color: transparent;\n\n    .MuiInputBase-root {\n      background-color: white;\n\n      ::before {\n        border-color: #e0e0e0;\n      }\n    }\n  }\n"]))),g=t(9211),Z=t(2791),v=t(184);function b(n){var e=n.onSubmitting,t=(0,Z.useState)(""),r=(0,d.Z)(t,2),o=r[0],i=r[1],m=(0,Z.useState)([]),x=(0,d.Z)(m,2),f=x[0],b=x[1],j=(0,Z.useState)(""),y=(0,d.Z)(j,2),w=y[0],k=y[1];(0,Z.useEffect)((function(){""!==o?(0,g.Xp)(o).then((function(n){var e,t=null!==(e=n[0])&&void 0!==e&&e.title?n:[];b(t)})):b([])}),[o]);var P=f.map((function(n){return n.title.ru}));return(0,v.jsxs)("form",{style:{alignItems:"center",display:"flex"},onSubmit:function(n){n.preventDefault();var t=n.target.elements.grams.value.trim();if(w){var r=f.find((function(n){return n.title.ru===w}))._id;e({weight:t,id:r}),i(""),n.currentTarget.reset()}},children:[(0,v.jsx)(l.Z,{sx:{display:"inline-block"},disablePortal:!0,id:"combo-box-demo",freeSolo:!0,value:o,onChange:function(n,e){k(e)},noOptionsText:"No products",options:P,renderInput:function(n){return(0,v.jsx)(h,(0,a.Z)((0,a.Z)({required:!0},n),{},{onChange:function(n){return i(n.target.value)},value:o,id:"filled-product",label:"Enter product name",name:"product",variant:"filled"}))}}),(0,v.jsx)(u.Z,{required:!0,label:"Grams",id:"filled-number",name:"grams",type:"number",sx:{width:150,mx:3,"&.MuiTextField-root .MuiInputBase-root":{backgroundColor:"white","::before":{borderColor:"#e0e0e0"}}},InputProps:{endAdornment:(0,v.jsx)(c.Z,{position:"end",children:"gr"})},inputProps:{inputMode:"numeric",pattern:"d{4}",max:9999},variant:"filled"}),(0,v.jsx)(p,{"aria-label":"add",type:"submit",children:(0,v.jsx)(s.Z,{})})]})}var j=t(4852),y=t(9900),w=t(3400),k=t(7247);function P(n){var e=n.name,t=n.grams,r=n.kcal,o=n.deleteProduct;return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(j.ZP,{sx:{alignItems:"flex-end"},children:[(0,v.jsx)(y.Z,{sx:{width:240,mr:4,borderBottom:"1px solid #80808038",flexGrow:0},primary:e}),(0,v.jsx)(y.Z,{sx:{width:107,ml:2,textAlign:"right",borderBottom:"1px solid #80808038",flexGrow:0},primary:"".concat(t," g")}),(0,v.jsx)(y.Z,{sx:{width:106,ml:4,mr:2,textAlign:"right",borderBottom:"1px solid #80808038",flexGrow:0},primary:"".concat(r," kcal")}),(0,v.jsx)(w.Z,{edge:"end","aria-label":"delete",onClick:o,children:(0,v.jsx)(k.Z,{})})]})})}var F,S,D=t(493),I=(0,f.default)(D.Z)(F||(F=(0,m.Z)(["\n  &.MuiList-root {\n    margin-top: 40px;\n    width: 650px;\n    position: relative;\n    overflow: auto;\n    max-height: 270px;\n  }\n"]))),C=f.default.h2(S||(S=(0,m.Z)(["\n  text-align: center;\n  font-size: 36px;\n  font-weight: 700;\n  color: #070730a7;\n  margin-left: 40px;\n  margin-top: 55px;\n  width: 550px;\n"])));function G(n){var e=n.poducts,t=n.onDeleteProduct,r=n.dayId;return(0,v.jsx)(I,{children:e.map((function(n){var e=n.id,o=n.weight,i=n.title,a=n.kcal;return(0,v.jsx)(P,{name:i,grams:o,kcal:a.toFixed(0),deleteProduct:function(n){return t({dayId:r,eatenProductId:e})}},e)}))})}var M,A=t(5594),B=t(2426),E=t.n(B),T=t(9276),_=t(6571),L=t(329),W=t(9783),z=f.default.h2(M||(M=(0,m.Z)(["\n  margin-left: 24px;\n  margin-right: 12px;\n  font-size: 34px;\n  font-weight: 900;\n  font-family: 'Verdana';\n"])));function O(n){var e=n.onDateChange,t=(0,Z.useState)(E()(new Date)),r=(0,d.Z)(t,2),o=r[0],i=r[1];(0,Z.useEffect)((function(){e(o)}),[e,o]);var a=new Date(o).toLocaleDateString();return(0,v.jsx)(_._,{dateAdapter:W.Z,children:(0,v.jsx)(L.M,{label:"Basic example",value:o,onChange:function(n){i(n)},renderInput:function(n){var e=n.inputRef,t=n.InputProps;return(0,v.jsxs)(T.Z,{sx:{display:"flex",alignItems:"baseline"},children:[(0,v.jsx)(z,{ref:e,children:a}),null===t||void 0===t?void 0:t.endAdornment]})}})})}var R=t(339),q=t(788),N=t(9434),Q=t(4289),V=function(){var n=(0,Z.useState)([]),e=(0,d.Z)(n,2),t=e[0],r=e[1],o=(0,Z.useState)(""),l=(0,d.Z)(o,2),u=l[0],c=l[1],s=(0,Z.useState)(""),m=(0,d.Z)(s,2),x=m[0],f=m[1],p=(0,Z.useState)({}),h=(0,d.Z)(p,2),j=h[0],y=h[1],w=(0,N.v9)(Q.y$);(0,Z.useEffect)((function(){""!==u&&(0,g.Pk)({date:u}).then((function(n){var e;console.log(n);var t=n.id,o=n.eatenProducts;y(null!==(e=n.daySummary)&&void 0!==e?e:(0,a.Z)((0,a.Z)({},n),{},{date:u})),f(null!==t&&void 0!==t?t:""),r(null!==o&&void 0!==o?o:[])}))}),[u]);return(0,v.jsx)(R.PQ,{children:(0,v.jsxs)("div",{style:{display:"flex"},children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(O,{onDateChange:function(n){var e=new Date(n).toISOString().split("T")[0];c(e)}}),(0,v.jsx)(b,{onSubmitting:function(n){var e={date:u,productId:n.id,weight:+n.weight};(0,g.hZ)(e).then((function(n){n.newDay?(f(n.newDay.id),r((function(e){return[].concat((0,i.Z)(e),[n.eatenProduct])})),y(n.newSummary)):(r(n.day.eatenProducts),y(n.daySummary))}))}}),0===t.length?(0,v.jsx)(C,{children:"There are no products on the selected date"}):(0,v.jsx)(G,{poducts:t,onDeleteProduct:function(n){(0,g.Ir)(n).then((function(n){console.log(n)})),(0,g.Pk)({date:u}).then((function(n){var e=n.eatenProducts;r(null!==e&&void 0!==e?e:[]),y(n.daySummary)}))},dayId:x})]}),(0,v.jsxs)("div",{children:[w&&(0,v.jsx)(q.Z,{styles:{xs:"none",md:"none",lg:"flex"}}),(0,v.jsx)(A.m,{summaryDayInfo:j})]})]})})}},1266:function(n,e,t){n.exports=t.p+"static/media/desktoprightSideBar.07ec7143c40752d1b8ad.png"}}]);
//# sourceMappingURL=570.e8af2484.chunk.js.map